# Rent a Car - Stellar DApp

_Proyecto desarrollado con Scaffold Stellar para gestiÃ³n descentralizada de alquiler de vehÃ­culos._

## ğŸš— DescripciÃ³n del Proyecto

Sistema de alquiler de vehÃ­culos implementado en Stellar con smart contracts en Rust y frontend React. El contrato incluye gestiÃ³n de roles (Admin, Owner, Renter), sistema de comisiones para el administrador, y validaciones de retiro basadas en el estado del vehÃ­culo. Los owners pueden registrar sus autos y retirar fondos solo cuando estÃ¡n disponibles, mientras que los renters pueden alquilar vehÃ­culos pagando un depÃ³sito mÃ¡s la comisiÃ³n configurada por el admin.

## ğŸ“¸ Capturas de Pantalla

### ConexiÃ³n de Wallet

![ConexiÃ³n de Wallet](./res-markdown/foto_prueba_b1.png)

### SelecciÃ³n de Rol

![SelecciÃ³n de Rol](./res-markdown/foto_prueba_b2.png)

### Vista Admin - CreaciÃ³n de Autos

![Vista Admin](./res-markdown/foto_prueba_b3.png)

### CatÃ¡logo de VehÃ­culos

![CatÃ¡logo de VehÃ­culos](./res-markdown/foto_prueba_b4.png)

### GestiÃ³n de Alquileres

![GestiÃ³n de Alquileres](./res-markdown/foto_prueba_b5.png)

### Transacciones en Stellar Expert

![Stellar Expert](./res-markdown/foto_prueba_b6.png)

---

## ğŸ› ï¸ TecnologÃ­as Utilizadas

A modern, up-to-date toolkit for building Stellar smart contract frontends.

- âš¡ï¸ Vite + React + TypeScript
- ğŸ”— Auto-generated contract clients
- ğŸ§© Example components for contract interaction
- ğŸ›  Hot reload for contract changes
- ğŸ§ª Easy local/testnet deployment

This is the starter frontend generated by `stellar scaffold init`. See more at [Scaffold Stellar](https://github.com/AhaLabs/scaffold-stellar).

## Requirements

Before getting started, make sure youâ€™ve met the requirements listed in the [Soroban documentation](https://developers.stellar.org/docs/build/smart-contracts/getting-started/setup) and that the following tools are installed :

- [Rust](https://www.rust-lang.org/tools/install)
- [Cargo](https://doc.rust-lang.org/cargo/) (comes with Rust)
- Rust target: install the compilation target listed in the [Soroban setup guide](https://developers.stellar.org/docs/build/smart-contracts/getting-started/setup)
- [Node.js](https://nodejs.org/en/download/package-manager) (v22, or higher)
- [npm](https://www.npmjs.com/): Comes with the node installer or can also be installed package managers such as Homebrew, Chocolatey, apt, etc.
- [Stellar CLI](https://github.com/stellar/stellar-core)
- [Scaffold Stellar CLI Plugin](https://github.com/AhaLabs/scaffold-stellar)

## Quick Start

### 1. Clonar el Repositorio

```bash
git clone <repository-url>
cd Scaffold-Bootcamp-Odisea
```

### 2. Configurar el Entorno

```bash
# Copiar variables de entorno
cp .env.example .env

# Instalar dependencias
npm install

# Instalar target de Rust para WASM
rustup target add wasm32-unknown-unknown
```

### 3. Ejecutar el Proyecto

```bash
# Iniciar servidor de desarrollo (incluye contrato local y frontend)
npm run dev
```

La aplicaciÃ³n estarÃ¡ disponible en `http://localhost:5173`

### 4. Construir el Contrato

```bash
# Compilar el contrato Rust
stellar contract build

# El archivo WASM se genera en: target/wasm32v1-none/release/rent_a_car.wasm
```

## ğŸ“‹ Funcionalidades Implementadas

### Smart Contract (Rust)

- âœ… Registro de vehÃ­culos por owners con precio por dÃ­a
- âœ… Sistema de alquiler con validaciÃ³n de estado
- âœ… ComisiÃ³n configurable por el administrador
- âœ… AcumulaciÃ³n automÃ¡tica de comisiones en cada alquiler
- âœ… Retiro de comisiones exclusivo para admin
- âœ… Retiro de fondos para owners solo con auto disponible
- âœ… FunciÃ³n de devoluciÃ³n para cambiar estado del vehÃ­culo

### Frontend (React + TypeScript)

- âœ… IntegraciÃ³n con Freighter wallet
- âœ… SelecciÃ³n de roles (Admin, Owner, Renter)
- âœ… Interfaz para crear y gestionar vehÃ­culos
- âœ… CatÃ¡logo de autos con filtrado por estado
- âœ… Botones contextuales segÃºn rol del usuario
- âœ… ValidaciÃ³n de acciones segÃºn estado del vehÃ­culo
- âœ… Enlaces a Stellar Expert para verificar transacciones

## ğŸ”§ Estructura del Proyecto

## ğŸ”§ Estructura del Proyecto

```
my-project/                      # Your initialized project
â”œâ”€â”€ contracts/                   # Smart contracts en Rust
â”‚   â””â”€â”€ rent-a-car/             # Contrato de alquiler de vehÃ­culos
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ contract.rs     # ImplementaciÃ³n del contrato
â”‚       â”‚   â”œâ”€â”€ interfaces/     # Traits del contrato
â”‚       â”‚   â””â”€â”€ storage/        # GestiÃ³n de almacenamiento
â”‚       â”‚       â”œâ”€â”€ admin.rs    # Funciones del administrador
â”‚       â”‚       â”œâ”€â”€ car.rs      # GestiÃ³n de vehÃ­culos
â”‚       â”‚       â”œâ”€â”€ commission.rs # Sistema de comisiones
â”‚       â”‚       â””â”€â”€ rental.rs   # GestiÃ³n de alquileres
â”œâ”€â”€ src/                         # Frontend React application
â”‚   â”œâ”€â”€ components/              # Componentes React
â”‚   â”‚   â”œâ”€â”€ CarList.tsx         # Listado de vehÃ­culos
â”‚   â”‚   â””â”€â”€ CreateCarForm.tsx   # Formulario de creaciÃ³n
â”‚   â”œâ”€â”€ interfaces/              # TypeScript interfaces
â”‚   â”œâ”€â”€ pages/                   # PÃ¡ginas de la aplicaciÃ³n
â”‚   â”‚   â”œâ”€â”€ ConnectWallet.tsx   # ConexiÃ³n wallet
â”‚   â”‚   â”œâ”€â”€ RoleSelection.tsx   # SelecciÃ³n de rol
â”‚   â”‚   â””â”€â”€ Dashboard.tsx       # Panel principal
â”‚   â”œâ”€â”€ providers/               # Context providers
â”‚   â””â”€â”€ services/                # Servicios de integraciÃ³n
â”‚       â””â”€â”€ stellar.service.ts  # Cliente Stellar SDK
â”œâ”€â”€ target/                      # Build artifacts and WASM files
â”œâ”€â”€ environments.toml            # ConfiguraciÃ³n de entornos
â””â”€â”€ package.json                 # Frontend dependencies
```

## ğŸŒ Deploy a Testnet/Mainnet

Para desplegar en testnet o mainnet:

```bash
# Publicar el contrato al registry
stellar registry publish

# Desplegar una instancia con parÃ¡metros del constructor
stellar registry deploy \
  --deployed-name rent-a-car \
  --published-name rent-a-car \
  -- \
  --admin <ADMIN_ADDRESS> \
  --token <TOKEN_ADDRESS>

# Crear alias local del contrato desplegado
stellar registry create-alias rent-a-car
```

## ğŸ“š Recursos

- [Stellar Documentation](https://developers.stellar.org/)
- [Soroban Smart Contracts](https://developers.stellar.org/docs/build/smart-contracts)
- [Scaffold Stellar](https://github.com/AhaLabs/scaffold-stellar)

---

**Desarrollado con Scaffold Stellar** ğŸš€
